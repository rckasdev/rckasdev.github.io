<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <title>TEST2</title>
    </head>
    <body>
        <div class='dataJs'>
            <div>Датcа</div>
            <div class='datajsValue'></div>
			<div class='datajsGuid'></div>
        </div>
		
		
		
	<script>
	var data	
		
	$( document ).ready(function() {

            console.log( "ready!" );

            DataHandler()
        });
		
		
	function DataHandler()
        {
            let searchParams = new URLSearchParams(window.location.search)
            var randomGuid = searchParams.get('randomGuid');
	    data = searchParams.get('data');
            
            $(".datajsValue").append(data);
			$(".datajsGuid").append(randomGuid);
			
	}
		
	function hexToUtf8(s)
	{
	  return decodeURIComponent(
	     s.replace(/\s+/g, '') // remove spaces
	      .replace(/[0-9a-f]{2}/g, '%$&') // add '%' before each 2 characters
	  );
	}

	const utf8encoder = new TextEncoder();

	function utf8ToHex(s)
	{
	  const rb = utf8encoder.encode(s);
	  let r = '';
	  for (const b of rb) {
	    r += ('0' + b.toString(16)).slice(-2);
	  }
	  return r;
	}	
		
	</script>	
    </body>
</html>

<style>
.dataJs{
	color:red;
	}
</style>

